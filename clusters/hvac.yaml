---
name: HVAC
description: |
  Meant to controll HVAC appliances, but may be used for other applications

types:
  # Pump Information
  MaxPressure: &maxPressure
    name: Max Pressure
    id: "0x0000"
    description: |
      the maximum pressure the pump can achieve. It is a physical limit,
      and does not apply to any specific control mode or operation mode
    type: s16
    required: true
    access: r
    range: 0x8001,0x7fff
    unit: Kilopascals
    multiplier: 10
  MaxSpeed: &maxSpeed
    name: Max Speed
    id: "0x0001"
    description: |
      the maximum speed the pump can achieve. It is a physical limit, and
      does not apply to any specific control mode or operation mode
    type: u16
    required: true
    access: r
    range: 0x0000,0xfffe
    unit: RevolutionsPerMinute
  MaxFlow: &maxFlow
    name: Max Flow
    id: "0x0002"
    description: |
      the maximum flow the pump can achieve. It is a physical limit, and does
      not apply to any specific control mode or operation mode
    type: u16
    required: true
    access: r
    range: 0x0000,0xfffe
    unit: CubicMetersPerHour
    multiplier: 10
  MinConstPressure: &minConstPressure
    name: Min Const Pressure
    id: "0x0003"
    description: |
      the minimum pressure the pump can achieve when it is running and
      working in control mode constant pressure (ControlMode attribute of the
      Pump settings attribute set is set to Constant pressure)
    type: s16
    access: r
    range: 0x8001,0x7fff
    unit: Kilopascals
    multiplier: 10
  MaxConstPressure: &maxConstPressure
    name: Max Const Pressure
    id: "0x0004"
    description: |
      the maximum pressure the pump can achieve when it is running and
      working in control mode constant pressure (ControlMode attribute of the
      Pump settings attribute set is set to Constant pressure)
    type: s16
    access: r
    range: 0x8001,0x7fff
    unit: Kilopascals
    multiplier: 10
  MinCompPressure: &minCompPressure
    name: Min Comp Pressure
    id: "0x0005"
    description: |
      the minimum compensated pressure the pump can achieve when it is
      running and working in control mode Proportional pressure (ControlMode
      attribute of the Pump settings attribute set is set to Proportional
      pressure)
    type: s16
    access: r
    range: 0x8001,0x7fff
    unit: Kilopascals
    multiplier: 10
  MaxCompPressure: &maxCompPressure
    name: Max Comp Pressure
    id: "0x0006"
    description: |
      the maximum compensated pressure the pump can achieve when it is
      running and working in control mode Proportional pressure (ControlMode
      attribute of the Pump settings attribute set is set to Proportional
      pressure)
    type: s16
    access: r
    range: 0x8001,0x7fff
    unit: Kilopascals
    multiplier: 10
  MinConstSpeed: &minConstSpeed
    name: Min Const Speed
    id: "0x0007"
    description: |
      the minimum speed the pump can achieve when it is running and working
      in control mode Constant speed (ControlMode attribute of the Pump
      settings attribute set is set to Constant speed)
    type: u16
    access: r
    range: 0x0000,0xfffe
    unit: RevolutionsPerMinute
  MaxConstSpeed: &maxConstSpeed
    name: Max Const Speed
    id: "0x0008"
    description: |
      the maximum speed the pump can achieve when it is running and working
      in control mode Constant speed (ControlMode attribute of the Pump
      settings attribute set is set to Constant speed)
    type: u16
    access: r
    range: 0x0000,0xfffe
    unit: RevolutionsPerMinute
  MinConstFlow: &minConstFlow
    name: Min Const Flow
    id: "0x0009"
    description: |
      the minimum flow the pump can achieve when it is running and working in
      control mode Constant flow (ControlMode attribute of the Pump settings
      attribute set is set to Constant flow)
    type: u16
    access: r
    range: 0x0000,0xfffe
    unit: CubicMetersPerHour
    multiplier: 10
  MaxConstFlow: &maxConstFlow
    name: Max Const Flow
    id: "0x000a"
    description: |
      the maximum flow the pump can achieve when it is running and working in
      control mode Constant flow (ControlMode attribute of the Pump settings
      attribute set is set to Constant flow)
    type: u16
    access: r
    range: 0x0000,0xfffe
    unit: CubicMetersPerHour
    multiplier: 10
  MinConstTemp: &minConstTemp
    name: Min Const Temp
    id: "0x000b"
    description: |
      the minimum temperature the pump can maintain in the system when it is
      running and working in control mode Constant temperature (ControlMode
      attribute of the Pump settings attribute set is set to Constant
      temperature)
    type: s16
    access: r
    range: 0x954d,0x7fff
    unit: DegreesCelsius
    multiplier: 100
  MaxConstTemp: &maxConstTemp
    name: Max Const Temp
    id: "0x000c"
    description: |
      the maximum temperature the pump can maintain in the system when it is
      running and working in control mode Constant temperature (ControlMode
      attribute of the Pump settings attribute set is set to Constant
      temperature)
    type: s16
    access: r
    range: 0x954d,0x7fff
    unit: DegreesCelsius
    multiplier: 100
  # Pump Dynamic Information
  PumpStatus: &pumpStatus
    name: Pump Status
    id: "0x0010"
    type: bmp16
    access: r
    report: true
    bits:
      "0": Device fault
      "1": Supply fault
      "2": Speed low
      "3": Speed high
      "4": Local override
      "5": Running
      "6": Remote pressure
      "7": Remote flow
      "8": Remote temperature
  EffectiveOperationMode: &effectiveOperationMode
    name: Effective Operation Mode
    id: "0x0011"
    description: |
      current effective operation mode of the pump. The value of the
      EffectiveOperationMode attribute is the same as the OperationMode
      attribute of the Pump settings attribute set, except when it is
      overridden locally
    type: enum8
    access: r
    required: true
    range: 0x00,0xfe
    values:
      "0x00": Normal
      "0x01": Minimum
      "0x02": Maximum
      "0x03": Local
  EffectiveControlMode: &effectiveControlMode
    name: Effective Control Mode
    id: "0x0012"
    description: |
      control mode that currently applies to the pump. It will have the value
      of the ControlMode attribute, unless a remote sensor is used as the
      sensor for regulation of the pump. In this case, EffectiveControlMode
      will display Constant pressure, Constant flow or Constant temperature
      if the remote sensor is a pressure sensor, a flow sensor or a
      temperature sensor respectively, regardless of the value of the
      ControlMode attribute
    type: enum8
    access: r
    required: true
    range: 0x00,0xfe
    values:
      "0x00": Constant speed
      "0x01": Constant pressure
      "0x02": Proportional pressure
      "0x03": Constant flow
      "0x05": Constant temperature
      "0x07": Automatic
  Capacity: &capacity
    name: Capacity
    id: "0x0013"
    description: |
      actual capacity of the pump as a percentage of the effective maximum
      setpoint value. It is updated dynamically as the speed of the pump
      changes
    type: s16
    access: r
    required: true
    report: true
    range: 0x0000,0x7fff
    unit: Percent
    multiplier: 200
  Speed: &speed
    name: Speed
    id: "0x0014"
    description: |
      actual speed of the pump measured in RPM. It is updated dynamically as
      the speed of the pump changes
    type: u16
    access: r
    range: 0x0000,0xfffe
    unit: RevolutionsPerMinute
  LifetimeRunningHours: &lifetimeRunningHours
    name: Lifetime Running Hours
    id: "0x0015"
    description: |
      ccumulated number of hours that the pump has been powered and the motor
      has been running. It is updated dynamically as it increases. It is
      preserved over powercycles of the pump. if LifeTimeRunningHours rises
      above maximum value it <rolls over= and starts at 0 (zero)
    type: u24
    access: rw
    range: 0x000000,0xfffffe
    default: "0"
    unit: Hours
  Power: &power
    name: Power
    id: "0x0016"
    description: |
       power consumption of the pump in Watts
    type: u24
    access: rw
    range: 0x000000,0xfffffe
    unit: Watts
  LifetimeEnergyConsumed: &lifetimeEnergyConsumed
    name: Lifetime Energy Consumed
    id: "0x0017"
    description: |
      accumulated energy consumption of the pump through the entire lifetime
      of the pump in kWh. The value of the LifetimeEnergyConsumed attribute
      is updated dynamically as the energy consumption of the pump increases.
      If LifetimeEnergyConsumed rises above maximum value it rolls over and
      starts at 0 (zero)
    type: u32
    access: r
    range: 0x00000000,0xfffffffe
    default: "0"
    unit: KilowattHours
  # Pump Settings
  OperationMode: &operationMode
    name: Operation Mode
    id: "0x0020"
    description: specifies the operation mode of the pump
    type: enum8
    access: rw
    required: true
    range: 0x00,0xfe
    default: "0x00"
    values:
      "0x00": Normal
      "0x01": Minimum
      "0x02": Maximum
      "0x03": Local
  ControlMode: &controlMode
    name: Control Mode
    id: "0x0021"
    description: control mode of the pump
    type: enum8
    access: rw
    range: 0x00,0xfe
    default: "0x00"
    values:
      "0x00": Constant speed
      "0x01": Constant pressure
      "0x02": Proportional pressure
      "0x03": Constant flow
      "0x05": Constant temperature
      "0x07": Automatic
  PumpAlarmMask: &pumpAlarmMask
    name: Pump Alarm Mask
    id: "0x0022"
    description: |
      whether each of the alarms listed is enabled. When the bit number
      corresponding to the alarm code is set to 1, the alarm is enabled, else
      it is disabled
    type: bmp16
    access: r
    bits:
      "0": Supply voltage too low
      "1": Supply voltage too high
      "2": Power missing phase
      "3": System pressure too low
      "4": System pressure too high
      "5": Dry running
      "6": Motor temperature too high
      "7": Pump motor has fatal failure
      "8": Electronic temperature too high
      "9": Pump blocked
      "10": Sensor failure
      "11": Electronic non-fatal failure
      "12": Electronic fatal failure
      "13": General fault
  # Thermostat Information
  LocalTemperature: &localTemperature
    name: Local Temperature
    description: |
      temperature in degrees Celsius, as measured locally or remotely (over
      the network), including any adjustments applied by
      LocalTemperatureCalibration attribute (if any) as follows:
      LocalTemperature = 100 x (temperature in degrees Celsius +
      LocalTemperatureCalibration)
    id: "0x0000"
    type: s16
    range: 0x954d,0x7fff
    report: true
    required: true
    access: r
    unit: DegreesCelsius
    multiplier: 100
    default: "0xff"
  OutdoorTemperature: &outdoorTemperature
    name: Outdoor Temperature
    description: |
      outdoor temperature in degrees Celsius, as measured locally or remotely
      (over the network). It is measured as described for LocalTemperature
    id: "0x0001"
    type: s16
    range: 0x954d,0x7fff
    access: r
    unit: DegreesCelsius
    default: "0xff"
    multiplier: 100
  Occupancy: &occupancy
    name: Occupancy
    description: |
      whether the heated/cooled space is occupied or not, as measured locally
      or remotely (over the network)
    id: "0x0002"
    type: bmp8
    access: r
    bits:
      "1": Occupied
  AbsMinHeatSetpointLimit: &absMinHeatSetpointLimit
    name: Abs Min Heat Setpoint Limit
    description: |
      absolute minimum level that the heating setpoint may be set to. This is
      a limitation imposed by the manufacturer. The value is calculated as
      described in the LocalTemperature attribute
    id: "0x0003"
    type: s16
    range: 0x954d,0x7fff
    access: r
    unit: DegreesCelsius
    default: "0x02bc"
    multiplier: 100
  AbsMaxHeatSetpointLimit: &absMaxHeatSetpointLimit
    name: Abs Max Heat Setpoint Limit
    description: |
      absolute maximum level that the heating setpoint may be set to. This is[[s]]
      a limitation imposed by the manufacturer. The value is calculated as
      described in the LocalTemperature attribute
    id: "0x0004"
    type: s16
    range: 0x954d,0x7fff
    access: r
    unit: DegreesCelsius
    default: "0x0bb8"
    multiplier: 100
  AbsMinCoolSetpointLimit: &absMinCoolSetpointLimit
    name: Abs Min Cool Setpoint Limit
    description: |
      absolute minimum level that the cooling setpoint may be set to. This is
      a limitation imposed by the manufacturer. The value is calculated as
      described in the LocalTemperature attribute
    id: "0x0005"
    type: s16
    range: 0x954d,0x7fff
    access: r
    unit: DegreesCelsius
    default: "0x0640"
    multiplier: 100
  AbsMaxCoolSetpointLimit: &absMaxCoolSetpointLimit
    name: Abs Max Cool Setpoint Limit
    description: |
      absolute maximum level that the cooling setpoint may be set to. This is
      a limitation imposed by the manufacturer. The value is calculated as
      described in the LocalTemperature attribute
    id: "0x0006"
    type: s16
    range: 0x954d,0x7fff
    access: r
    unit: DegreesCelsius
    default: "0x0c80"
    multiplier: 100
  PiCoolingDemand: &piCoolingDemand
    name: PI Cooling Demand
    description: |
      specifies the level of cooling demanded by the PI (proportional
      integral) control loop in use by the thermostat (if any), in
      percent. This value is 0 when the thermostat is in off or heating mode
    id: "0x0007"
    type: u8
    default: "0x00,0x64"
    access: r
    report: true
    value: Percent
  PiHeatingDemand: &piHeatingDemand
    name: PI Heating Demand
    description: |
      specifies the level of heating demanded by the PI (proportional
      integral) control loop in use by the thermostat (if any), in
      percent. This value is 0 when the thermostat is in off or cooling mode
    id: "0x0008"
    type: u8
    default: "0x00,0x64"
    access: r
    report: true
    value: Percent
  HvacSystemTypeConfiguration: &hvacSystemTypeConfiguration
    name: HVAC System Type Configuration
    id: "0x0009"
    description: |
      HVAC system type controlled by the thermostat.
      Bit | Description
      0-1 | Cooling systemn stage
          | 00 Stage 1
          | 01 Stage 2
          | 10 Stage 3
      2-3 | Heating system stage
          | 00 Stage 1
          | 01 Stage 2
          | 10 Stage 3
      4   | Heating system type
          | 0 Conventional
          | 1 Heat pump
      5   | Heating fuel source
          | 0 Electric
          | 1 Gas
    type: bmp8
    bits:
      "1": Cool stage 2
      "2": Cool stage 3
      "3": Heat stage 2
      "4": Heat stage 3
      "5": Heat pump
      "6": Gas fuel source
  # Thermostat settings
  LocalTemperatureCalibration: &localTemperatureCalibration
    name: Local Temperature Calibration
    description: |
      offset the thermostat server shall make to the measured temperature
      (locally or remotely) before calculating, displaying, or communicating
      the LocalTemperature attribute
    id: "0x0010"
    type: s8
    range: 0xe7,0x19
    access: rw
    default: "0x00"
    unit: DegreesCelsius
    multiplier: 10
  OccupiedCoolingSetpoint: &occupiedCoolingSetpoint
    name: Occupied Cooling Setpoint
    description: |
      cooling mode setpoint when the room is occupied. The
      OccupiedHeatingSetpoint attribute shall always be below the value
      specified by at least MinSetpointDeadband
    id: "0x0011"
    type: s16
    range: 0x954d,0x7fff
    access: rw
    default: "0x0a28"
    unit: DegreesCelsius
    multiplier: 10
    scene: 1
  OccupiedHeatingSetpoint: &occupiedHeatingSetpoint
    name: Occupied Heating Setpoint
    description: |
      heating mode setpoint when the room is occupied. The
      OccupiedCoolingSetpoint attribute shall always be above the value
      specified by at least MinSetpointDeadband
    id: "0x0012"
    type: s16
    range: 0x954d,0x7fff
    access: rw
    default: "0x07d0"
    unit: DegreesCelsius
    multiplier: 10
    scene: 2
  UnoccupiedCoolingSetpoint: &unoccupiedCoolingSetpoint
    name: Unoccupied Cooling Setpoint
    description: |
      cooling mode setpoint when the room is unoccupied. The
      UnoccupiedHeatingSetpoint attribute shall always be below the value
      specified by at least MinSetpointDeadband
    id: "0x0013"
    type: s16
    range: 0x954d,0x7fff
    access: rw
    default: "0x0a28"
    unit: DegreesCelsius
    multiplier: 10
  UnoccupiedHeatingSetpoint: &unoccupiedHeatingSetpoint
    name: Unoccupied Heating Setpoint
    description: |
      heating mode setpoint when the room is unoccupied. The
      UnoccupiedCoolingSetpoint attribute shall always be above the value
      specified by at least MinSetpointDeadband
    id: "0x0014"
    type: s16
    range: 0x954d,0x7fff
    access: rw
    default: "0x07d0"
    unit: DegreesCelsius
    multiplier: 10
  MinHeatSetpointLimit: &minHeatSetpointLimit
    name: Min Heat Setpoint Limit
    description: |
      minimum level that the heating setpoint may be set to. If this
      attribute is not present, it shall be taken as equal to
      AbsMinHeatSetpointLimit
    id: "0x0015"
    type: s16
    access: rw
    default: "0x02bc"
    range: 0x954d,0x7fff
    unit: DegreesCelsius
    multiplier: 10
  MaxHeatSetpointLimit: &maxHeatSetpointLimit
    name: Max Heat Setpoint Limit
    description: |
      maximum level that the heating setpoint MAY be set to. It must be less
      than or equal to AbsMaxHeatSetpointLimit. If this attribute is not
      present, it shall be taken as equal to AbsMaxHeatSetpointLimit
    id: "0x0016"
    type: s16
    access: rw
    default: "0x0bb8"
    range: 0x954d,0x7fff
    unit: DegreesCelsius
    multiplier: 10
  MinCoolSetpointLimit: &minCoolSetpointLimit
    name: Min Cool Setpoint Limit
    description: |
      minimum level that the cooling setpoint may be set to. It must be
      greater than or equal to AbsMinCoolSetpointLimit. If this attribute is
      not present, it shall be taken as equal to AbsMinCoolSetpointLimit
    id: "0x0017"
    type: s16
    access: rw
    default: "0x0640"
    range: 0x954d,0x7fff
    unit: DegreesCelsius
    multiplier: 10
  MaxCoolSetpointLimit: &maxCoolSetpointLimit
    name: Max Cool Setpoint Limit
    description: |
      maximum level that the cooling setpoint may be set to. It must be less
      than or equal to AbsMaxCoolSetpointLimit. If this attribute is not
      present, it shall be taken as equal to AbsMaxCoolSetpointLimit
    id: "0x0018"
    type: s16
    access: rw
    default: "0x0c80"
    range: 0x954d,0x7fff
    unit: DegreesCelsius
    multiplier: 10
  MinSetpointDeadBand: &minSetpointDeadBand
    name: Min Setpoint Dead Band
    description: |
      minimum difference between the Heat Setpoint and the Cool SetPoint
    id: "0x0019"
    type: s8
    access: rw
    default: "0x19"
    range: 0x00,0x19
  RemoteSensing: &remoteSensing
    name: Remote Sensing
    description: |
      specifies whether the local temperature, outdoor temperature and
      occupancy are being sensed by internal sensors or remote networked
      sensors. When the bit is 0 it means internal, 1 means remote
    id: "0x001a"
    type: bmp8
    access: rw
    default: "0"
    bits:
      "0": Local temperature
      "1": Outdoor temperature
      "2": Occupancy
  ControlSequenceOfOperation: &controlSequenceOfOperation
    name: Control Sequence Of Operation
    description: |
      overall operating environment of the thermostat, and thus the possible
      system modes that the thermostat can operate in
    id: "0x001b"
    type: enum8
    access: rw
    default: "0x04"
    values:
      "0x00": Cooling only
      "0x01": Cooling with reheat
      "0x02": Heating only
      "0x03": Heating with reheat
      "0x04": Cooling and heating 4-pipes
      "0x05": Cooling and heating 4-pipes with reheat
  SystemMode: &systemMode
    name: System Mode
    description: specifies the current operating mode of the thermostat
    id: "0x001c"
    type: enum8
    access: rw
    default: "0x01"
    scene: 3
    values:
      "0x00": "Off"
      "0x01": Auto
      "0x03": Cool
      "0x04": Heat
      "0x05": Emergency heating
      "0x06": Precooling
      "0x07": Fan only
      "0x08": Dry
      "0x09": Sleep
  ThermostatAlarmMask: &thermostatAlarmMask
    name: Thermostat Alarm Mask
    description: |
      specifies whether each of the alarms listed is enabled. When the bit
      number corresponding to the alarm code is set to 1, the alarm is
      enabled, else it is disabled
    id: "0x001d"
    type: bmp8
    access: r
    default: "0"
    bits:
      "0": Initialisation failure
      "1": Hardware failure
      "2": Self-calibration failure
  ThermostatRunningMode: &thermostatRunningMode
    name: Thermostat Running Mode
    description: represents the running mode of the thermostat
    id: "0x001e"
    type: enum8
    access: r
    default: "0x00"
    values:
      "0x00": "Off"
      "0x03": "Cool"
      "0x04": "Heat"
  # Thermostat Schedule & HVAC Relay
  StartOfWeek: &startOfWeek
    name: Start Of Week
    description: |
      day of the week that this thermostat considers to be the start of week
      for weekly set point scheduling. This attribute may be able to be used
      as the base to determine if the device supports weekly scheduling by
      reading the attribute. Successful response means that the weekly
      scheduling is supported
    id: "0x0020"
    type: enum8
    access: r
    values:
      "0x00": Sunday
      "0x01": Monday
      "0x02": Tuesday
      "0x03": Wednesday
      "0x04": Thursday
      "0x05": Friday
      "0x06": Saturday
  NumberOfWeeklyTransitions: &numberOfWeeklyTransitions
    name: Number Of Weekly Transitions
    description: |
      how many weekly schedule transitions the thermostat is capable of
      handling
    id: "0x0021"
    type: u8
    range: 0x00,0xff
    access: r
    default: "0x00"
  NumberOfDailyTransitions: &numberOfDailyTransitions
    name: Number Of Daily Transitions
    description: |
      how many daily schedule transitions the thermostat is capable of
      handling
    id: "0x0022"
    type: u8
    range: 0x00,0xff
    access: r
    default: "0x00"
  TemperatureSetpointHold: &temperatureSetpointHold
    name: Temperature Setpoint Hold
    description: |
      temperature hold status on the thermostat. If hold status is on, the
      thermostat should maintain the temperature set point for the current
      mode until a system mode change. If hold status is off, the thermostat
      should follow the setpoint transitions specified by its internal
      scheduling program. If the thermostat supports setpoint hold for a
      specific duration, it should also implement the
      TemperatureSetpointHoldDuration attribute
    id: "0x0023"
    type: enum8
    access: rw
    default: "0"
    values:
      "0x00": "Off"
      "0x01": "On"
  TemperatureSetpointHoldDuration: &temperatureSetpointHoldDuration
    name: Temperature Setpoint Hold Duration
    description: |
      period in minutes for which a setpoint hold is active
    id: "0x0024"
    type: u16
    range: "0x0000,0x05a0"
    access: rw
    default: "0xffff"
    unit: Minutes
  ThermostatProgrammingOperationMode: &thermostatProgrammingOperationMode
    name: Thermostat Programming Operation Mode
    description: |
      operational state of the thermostat's programming. The thermostat shall
      modify its programming operation when this attribute is modified by a
      client and update this attribute when its programming operation is
      modified locally by a user. When a bit is 0 it means off, 1 means on.
      For the scheduling mode bit, 0 means the thermostate is manually
      controlled, whereas 1 means it is following a programmed weekly
      schedule
    id: "0x0025"
    type: bmp8
    access: rw
    report: true
    default: "0"
    bits:
      "0": Scheduling mode
      "1": Auto/recovery mode
      "2": Economy mode
  ThermostatRunningState: &thermostatRunningState
    name: Thermostat Running State
    id: "0x0029"
    type: bmp16
    access: r
    bits:
      "0": Heat stage on
      "1": Cool stage on
      "2": Fan stage on
      "3": Heat second stage on
      "4": Cool second stage on
      "5": Fan second stage on
      "6": Fan third stage on
  # Thermostat Setpoint Change Tracking
  SetpointChangeSource: &setpointChangeSource
    name: Setpoint Change Source
    description: |
      source of the current active OccupiedCoolingSetpoint or
      OccupiedHeatingSetpoint (i.e., who or what determined the current
      setpoint)
    id: "0x0030"
    type: enum8
    range: "0x00,0xff"
    access: r
    default: "0x00"
    values:
      "0x00": Manual/user initiated
      "0x01": Scheduling/programming initiated
      "0x02": Externally initiated by cluster command or attribute write
  SetpointChangeAmount: &setpointChangeAmount
    name: Setpoint Change Amount
    description: |
      delta between the current active OccupiedCoolingSetpoint or
      OccupiedHeatingSetpoint and the previous active setpoint
    id: "0x0031"
    type: s16
    range: "0x0000,0xffff"
    access: r
    default: "0x8000"
    unit: DegreesCelsius
    multiplier: 100
  SetpointChangeSourceTimestamp: &setpointChangeSourceTimestamp
    name: Setpoint Change Source Timestamp
    description: |
      time in UTC at which the SetpointChangeSourceAmount attribute change
      was recorded
    id: "0x0032"
    type: "utc"
    range: "0x00000000,0xfffffffe"
    access: r
    default: "0x00000000"
  OccupiedSetback: &occupiedSetback
    name: Occupied Setback
    description: |
      degrees the thermostat will allow the LocalTemperature attribute to
      float above the OccupiedCooling setpoint (i.e., OccupiedCooling +
      OccupiedSetback) or below the OccupiedHeating setpoint (i.e.,
      OccupiedHeating - OccupiedSetback) before initiating a state change to
      bring the temperature back to the user's desired setpoint
    id: "0x0034"
    type: u8
    range: 0x00,0xff
    access: rw
    default: "0xff"
    unit: DegreesCelsius
    multiplier: 10
  OccupiedSetbackMin: &occupiedSetbackMin
    name: Occupied Setback Min
    description: |
      degrees the thermostat will allow the OccupiedSetback attribute to be
      configured by a user
    id: "0x0035"
    type: u8
    range: 0x00,0xff
    access: r
    default: "0xff"
    unit: DegreesCelsius
    multiplier: 10
  OccupiedSetbackMax: &occupiedSetbackMax
    name: Occupied Setback Max
    description: |
      degrees the thermostat will allow the OccupiedSetback attribute to be
      configured by a user
    id: "0x0036"
    type: u8
    range: 0x00,0xff
    access: r
    default: "0xff"
    unit: DegreesCelsius
    multiplier: 10
  UnoccupiedSetback: &unoccupiedSetback
    name: Unoccupied Setback
    description: |
      degrees the thermostat will allow the LocalTemperature attribute to
      float above the UnoccupiedCooling setpoint (i.e., UnoccupiedCooling +
      UnoccupiedSetback) or below the UnoccupiedHeating setpoint (i.e.,
      UnoccupiedHeating - UnoccupiedSetback) before initiating a state change
      to bring the temperature back to the user's desired setpoint
    id: "0x0037"
    type: u8
    range: 0x00,0xff
    access: rw
    default: "0xff"
    unit: DegreesCelsius
    multiplier: 10
  UnoccupiedSetbackMin: &unoccupiedSetbackMin
    name: Unoccupied Setback Min
    description: |
      degrees the thermostat will allow the UnoccupiedSetback attribute to be
      configured by a user
    id: "0x0038"
    type: u8
    range: 0x00,0xff
    access: r
    default: "0xff"
    unit: DegreesCelsius
    multiplier: 10
  UnoccupiedSetbackMax: &unoccupiedSetbackMax
    name: Unoccupied Setback Max
    description: |
      degrees the thermostat will allow the UnoccupiedSetback attribute to be
      configured by a user
    id: "0x0039"
    type: u8
    range: 0x00,0xff
    access: r
    default: "0xff"
    unit: DegreesCelsius
    multiplier: 10
  EmergencyHeatDelta: &emergencyHeatDelta
    name: Emergency Heat Delta
    description: |
      degrees between LocalTemperature and the OccupiedHeatingSetpoint or
      UnoccupiedHeatingSetpoint attributes at which the Thermostat server
      will operate in emergency heat mode
    id: "0x003a"
    type: u8
    range: "0x00,0xff"
    access: rw
    default: "0xff"
    unit: DegreesCelsius
    multiplier: 10
  # AC Information
  AcType: &acType
    name: AC Type
    description: |
      type of Mini Split depending on how Cooling and Heating condition is
      achieved
    id: "0x0040"
    type: enum8
    access: rw
    default: "0x00"
    values:
      "0x00": Unknown
      "0x01": Cooling and fixed speed
      "0x02": Heat pump and fixed speed
      "0x03": Cooling and inverter
      "0x04": Heat pump and inverter
  AcCapacity: &acCapacity
    name: AC Capacity
    description: |
      capacity in terms of the format defined by the ACCapacityFormat
    id: "0x0041"
    type: u16
    range: 0x0000,0xffff
    access: rw
    default: "0x0000"
    unit: BTUsPerHour
  AcRefrigerantType: &acRefrigerantType
    name: AC Refrigerant Type
    description: refrigerant used
    id: "0x0042"
    type: enum8
    access: rw
    default: "0x00"
    values:
      "0x00": Unknown
      "0x01": R22
      "0x02": R410a
      "0x03": R407c
  AcCompressorType: &acCompressorType
    name: AC Compressor Type
    id: "0x0043"
    type: enum8
    access: rw
    default: "0x00"
    values:
      "0x00": Unknown
      "0x01": T1, Max working ambient 43ºC
      "0x02": T2, Max working ambient 35ºC
      "0x03": T3, Max working ambient 52ºC
  AcErrorCode: &acErrorCode
    name: AC Error Code
    id: "0x0044"
    type: bmp32
    range: 0x00000000,0xffffffff
    access: rw
    default: "0x00000000"
    bits:
      "0": Compressor failure or refrigerant leakage
      "1": Room temperature sensor failure
      "2": Outdoor temperature sensor failure
      "3": Indoor coil temperature sensor failure
      "4": Fan failure
  AcLouverPosition: &acLouverPosition
    name: AC Louver Position
    id: "0x0045"
    type: enum8
    access: rw
    default: "0x00"
    values:
      "0x01": Fully closed
      "0x02": Fully open
      "0x03": Quarter open
      "0x04": Half open
      "0x05": Three quarters open
  AcCoilTemperature: &acCoilTemperature
    name: AC Coil Temperature
    id: "0x0046"
    type: s16
    access: r
    range: 0x954d,0x7fff
    default: "0xffff"
    unit: DegreesCelsius
    multiplier: 100
  AcCapacityFormat: &acCapacityFormat
    name: AC Capacity Format
    id: "0x0047"
    type: enum8
    access: rw
    default: "0x00"
    values:
      "0x00": BTUh
  SetpointMode: &setpointMode
    name: Setpoint Mode
    type: enum8
    values:
      "0x00": Adjust heat setpoint
      "0x01": Adjust cool setpoint
      "0x02": Adjust heat and cool setpoint
  SetpointAmount: &setpointAmount
    name: Setpoint Amount
    type: s8
    unit: DegreesCelsius
    multiplier: 10
  # Commands
  SetWeeklyNumberOfTransitions: &setWeeklyNumberOfTransitions
    name: Set Weekly Number Of Transitions
    description: |
      how many individual transitions to expect for this sequence of
      commands. If a device supports more than 10 transitions in its
      schedule they can send this by sending more than 1 Set Weekly Schedule
      command, each containing the separate information that the device
      needs to set
    type: u8
  SetWeeklyDayOfWeek: &setWeeklyDayOfWeek
    name: Set Weekly Day Of Week
    description: |
      day of the week at which all the transitions within the payload of the
      command should be associated to
    type: bmp8
    bits:
      "0": Sunday
      "1": Monday
      "2": Tuesday
      "3": Wednesday
      "4": Thursday
      "5": Friday
      "6": Saturday
      "7": Away or vacation
  SetWeeklyMode: &setWeeklyMode
    name: Set Weekly Mode
    description: |
      which type of setpoint transition is present in the rest of the
      command
    type: bmp8
    bits:
      "0": Heat setpoint
      "1": Cool setpoint
  SetWeeklyTransitionTime1: &setWeeklyTransitionTime1
    name: Set Weekly Transition Time 1
    descripiton: |
      start time of the schedule transition during the associated day. The
      time will be represented by a 16 bits unsigned integer to designate the
      minutes since midnight. For example, 6am will be represented by 0x0168
      (360 minutes since midnight) and 11:30pm will be represented by 0x0582
      (1410 minutes since midnight)
    type: u16
    unit: Minutes
  SetWeeklyHeatSetpoint1: &setWeeklyHeatSetpoint1
    name: Set Weekly Heat Setpoint 1
    type: s16
    unit: DegreesCelsius
    multiplier: 100
  SetWeeklyCoolSetpoint1: &setWeeklyCoolSetpoint1
    name: Set Weekly Cool Setpoint 1
    type: s16
    unit: DegreesCelsius
    multiplier: 100
  SetWeeklyTransitionTime10: &setWeeklyTransitionTime10
    name: Set Weekly Transition Time 10
    descripiton: |
      start time of the schedule transition during the associated day. The
      time will be represented by a 16 bits unsigned integer to designate the
      minutes since midnight. For example, 6am will be represented by 0x0168
      (360 minutes since midnight) and 11:30pm will be represented by 0x0582
      (1410 minutes since midnight)
    type: u16
    unit: Minutes
  SetWeeklyHeatSetpoint10: &setWeeklyHeatSetpoint10
    name: Set Weekly Heat Setpoint 10
    type: s16
    unit: DegreesCelsius
    multiplier: 100
  SetWeeklyCoolSetpoint10: &setWeeklyCoolSetpoint10
    name: Set Weekly Cool Setpoint 10
    type: s16
    unit: DegreesCelsius
    multiplier: 100
  GetWeeklyDaysToReturn: &getWeeklyDaysToReturn
    name: Get Weekly Days To Return
    type: bmp8
    bits:
      "0": Sunday
      "1": Monday
      "2": Tuesday
      "3": Wednesday
      "4": Thursday
      "5": Friday
      "6": Saturday
      "7": Away or vacation
  GetWeeklyModeToReturn: &getWeeklyModeToReturn
    name: Get Weekly Mode To Return
    type: bmp8
    bits:
      "0": Heat setpoint
      "1": Cool setpoint
  RelayStatusLogTimeOfDay: &relayStatusLogTimeOfDay
    name: Relay Status Log Time of Day
    description: |
      minutes since midnight when the relay status was captured for this
      associated log entry
    type: u16
    unit: Minutes
  RelayStatus: &relayStatus
    name: Relay Status
    description: |
      status for thermostat when the log is captured. Each bit represents one
      relay used by the thermostat. If the bit is on, the associated relay is
      on and active. Each thermostat manufacturer can create its own mapping
      between the bitmask and the associated relay
    type: bmp8
  RelayStatusLocalTemperature: &relayStatusLocalTemperature
    name: Relay Status Local Temperature
    description: temperature when the log is captured
    type: s16
    unit: DegreesCelsius
    multiplier: 100
  RelayStatusHumidity: &relayStatusHumidity
    name: Relay Status Humidity
    description: humidity when the log was captured
    type: u8
    unit: Percent
  RelayStatusSetpoint: &relayStatusSetpoint
    name: Relay Status Setpoint
    description: target setpoint temperature when the log is captured
    type: s16
    unit: DegreesCelsius
    multiplier: 100
  RelayStatusUnreadEntries: &relayStatusUnreadEntries
    name: Relay status Unread Entries
    description: umber of unread entries within the thermostat log system
    type: u16
  # Fan control
  FanMode: &fanMode
    name: Fan Mode
    description: current speed of the fan
    id: "0x0000"
    type: enum8
    range: 0x00,0x06
    access: rw
    default: "0x05"
    required: true
    values:
      "0x00": "Off"
      "0x01": Low
      "0x02": Medium
      "0x03": High
      "0x04": "On"
      "0x05": Auto
      "0x06": Smart (based on occupancy)
  FanModeSequence: &fanModeSequence
    name: Fan Mode Sequence
    description: possible fan speeds that the thermostat can set
    id: "0x0001"
    type: enum8
    range: 0x00,0x04
    access: rw
    default: "0x02"
    required: true
    values:
      "0x00": Low/med/high
      "0x01": Low/high
      "0x02": Low/med/high/auto
      "0x03": Low/high/auto
      "0x04": On/auto
  # Dehumidification information
  RelativeHumidity: &relativeHumidity
    name: Relative Humidity
    description: |
      current relative humidity measured by a local or remote sensor
    id: "0x0000"
    type: u8
    range: 0x00,0x64
    access: r
    unit: Percent
  DehumidificationCooling: &dehumidificationCooling
    name: Dehumidification Cooling
    description: current dehumidification cooling output
    id: "0x0001"
    type: u8
    range: "0x00,0x64"
    access: r
    report: true
    required: true
  # Dehumidification settings
  RhDehumidificationSetpoint: &rhDehumidificationSetpoint
    name: RH Dehumidification Setpoint
    description: relative humidity at which dehumidification occurs
    id: "0x0010"
    type: u8
    range: 0x1e,0x64
    access: rw
    default: "0x32"
    required: true
    unit: Percent
  RelativeHumidityMode: &relativeHumidityMode
    name: Relative Humidity Mode
    description: how the RelativeHumidity value is being updated
    id: "0x0011"
    type: enum8
    range: 0x00,0x01
    access: rw
    default: "0x00"
    values:
      "0x00": Locally
      "0x01": Remotely
  DehumidificationLockout: &dehumidificationLockout
    name: Dehumidification Lockout
    description: whether dehumidification is allowed or not
    id: "0x0012"
    type: enum8
    range: 0x00,0x01
    access: rw
    default: "0x01"
    values:
      "0x00": Denied
      "0x01": Allowed
  DehumidificationHysteresis: &dehumidificationHysteresis
    name: Dehumidification Hysteresis
    description: hysteresis associated with RH
    id: "0x0013"
    type: u8
    range: 0x02,0x14
    access: rw
    default: "0x02"
    required: true
    unit: Percent
  DehumidificationMaxCool: &dehumidificationMaxCool
    name: Dehumidification Max Cool
    description: maximum dehumidification cooling output
    id: "0x0014"
    type: u8
    range: 0x14,0x64
    access: rw
    default: "0x14"
    required: true
    unit: Percent
  RelativeHumidityDisplay: &relativeHumidityDisplay
    name: Relative Humidity Display
    description: whether the RH value is displayed to the user or not
    id: "0x0015"
    type: enum8
    range: 0x00,0x01
    access: rw
    default: "0x00"
    values:
      "0x00": Not displayed
      "0x01": Displayed
  # Thermostate UI configuration
  TemperatureDisplayMode: &temperatureDisplayMode
    name: Temperature Display Mode
    description: units of the temperature displayed on the thermostat screen
    id: "0x0000"
    type: enum8
    range: 0x00,0x01
    access: rw
    default: "0x00"
    required: true
    values:
      "0x00": Temperature in Celsius
      "0x01": Temperature in Fahrenheit
  KeypadLockout: &keypadLockout
    name: Keypad Lockout
    description: |
      level of functionality that is available to the user via the keypad
    id: "0x0001"
    type: enum8
    range: 0x00,0x05
    access: rw
    default: "0x00"
    required: true
    values:
      "0x00": No lockout
      "0x01": Level 1 lockout
      "0x02": Level 2 lockout
      "0x03": Level 3 lockout
      "0x04": Level 4 lockout
      "0x05": Level 5 lockout
  ScheduleProgrammingVisibility: &scheduleProgrammingVisibility
    name: Schedule Programming Visibility
    description: |
      hide the weekly schedule programming functionality or menu on a
      thermostat from a user to prevent local user programming of the weekly
      schedule
    id: "0x0002"
    type: enum8
    range: 0x00,0x01
    access: rw
    default: "0x00"
    values:
      "0x00": Not hidden
      "0x01": Hidden

clusters:
  - id: "0x0200"
    name: Pump Configuration and Control
    description: |
      provides attributes and commands for configuring and
      controlling pumps
    server:
      attr:
        - *maxPressure
        - *maxSpeed
        - *maxFlow
        - *minConstPressure
        - *maxConstPressure
        - *minCompPressure
        - *maxCompPressure
        - *minConstSpeed
        - *maxConstSpeed
        - *minConstFlow
        - *maxConstFlow
        - *minConstTemp
        - *maxConstTemp
        - *pumpStatus
        - *effectiveOperationMode
        - *effectiveControlMode
        - *capacity
        - *speed
        - *lifetimeRunningHours
        - *power
        - *lifetimeEnergyConsumed
        - *operationMode
        - *controlMode
        - *pumpAlarmMask
  - id: "0x0201"
    name: Thermostat
    description: |
      provides attributes and commands for configuring and
      controlling thermostats
    server:
      attr:
        - *localTemperature
        - *outdoorTemperature
        - *occupancy
        - *absMinHeatSetpointLimit
        - *absMaxHeatSetpointLimit
        - *absMinCoolSetpointLimit
        - *absMaxCoolSetpointLimit
        - *piCoolingDemand
        - *piHeatingDemand
        - *hvacSystemTypeConfiguration
        - *localTemperatureCalibration
        - *occupiedCoolingSetpoint
        - *occupiedHeatingSetpoint
        - *unoccupiedCoolingSetpoint
        - *unoccupiedHeatingSetpoint
        - *minHeatSetpointLimit
        - *maxHeatSetpointLimit
        - *minCoolSetpointLimit
        - *maxCoolSetpointLimit
        - *minSetpointDeadBand
        - *remoteSensing
        - *controlSequenceOfOperation
        - *systemMode
        - *thermostatAlarmMask
        - *thermostatRunningMode
        - *startOfWeek
        - *numberOfWeeklyTransitions
        - *numberOfDailyTransitions
        - *temperatureSetpointHold
        - *temperatureSetpointHoldDuration
        - *thermostatProgrammingOperationMode
        - *thermostatRunningState
        - *setpointChangeSource
        - *setpointChangeAmount
        - *setpointChangeSourceTimestamp
        - *occupiedSetback
        - *occupiedSetbackMin
        - *occupiedSetbackMax
        - *unoccupiedSetback
        - *unoccupiedSetbackMin
        - *unoccupiedSetbackMax
        - *emergencyHeatDelta
        - *acType
        - *acCapacity
        - *acRefrigerantType
        - *acCompressorType
        - *acErrorCode
        - *acLouverPosition
        - *acCoilTemperature
        - *acCapacityFormat
      cmd:
        - id: "0x00"
          name: Setpoint raise/lower
          dir: recv
          required: true
          payloadattr:
            - *setpointMode
            - *setpointAmount
        - id: "0x01"
          name: Set weekly schedule
          dir: recv
          payloadattr:
            - *setWeeklyNumberOfTransitions
            - *setWeeklyDayOfWeek
            - *setWeeklyMode
            - *setWeeklyTransitionTime1
            - <<: *setWeeklyHeatSetpoint1
              cond:
                - name: Set Weekly Mode
                  index: 0
                  value: 0x01
                  mask: 0x01
            - <<: *setWeeklyCoolSetpoint1
              cond:
                - name: Set Weekly Mode
                  index: 0
                  value: 0x02
                  mask: 0x02
            - *setWeeklyTransitionTime10
            - <<: *setWeeklyHeatSetpoint10
              cond:
                - name: Set Weekly Mode
                  index: 0
                  value: 0x01
                  mask: 0x01
            - <<: *setWeeklyCoolSetpoint10
              cond:
                - name: Set Weekly Mode
                  index: 0
                  value: 0x02
                  mask: 0x02
        - id: "0x02"
          name: Get weekly schedule
          dir: recv
          payloadattr:
            - *getWeeklyDaysToReturn
            - *getWeeklyModeToReturn
        - id: "0x03"
          name: Clear weekly schedule
          dir: recv
        - id: "0x04"
          name: Get relay status log
          dir: recv
    client:
      cmd:
        - id: "0x00"
          name: Get weekly schedule response
          dir: recv
          payloadattr:
            - *setWeeklyNumberOfTransitions
            - *setWeeklyDayOfWeek
            - *setWeeklyMode
            - *setWeeklyTransitionTime1
            - <<: *setWeeklyHeatSetpoint1
              cond:
                - name: Set Weekly Mode
                  index: 0
                  value: 0x01
                  mask: 0x01
            - <<: *setWeeklyCoolSetpoint1
              cond:
                - name: Set Weekly Mode
                  index: 0
                  value: 0x02
                  mask: 0x02
            - *setWeeklyTransitionTime10
            - <<: *setWeeklyHeatSetpoint10
              cond:
                - name: Set Weekly Mode
                  index: 0
                  value: 0x01
                  mask: 0x01
            - <<: *setWeeklyCoolSetpoint10
              cond:
                - name: Set Weekly Mode
                  index: 0
                  value: 0x02
                  mask: 0x02
        - id: "0x01"
          name: Get relay status log response
          dir: recv
          payloadattr:
            - *relayStatusLogTimeOfDay
            - *relayStatus
            - *relayStatusLocalTemperature
            - *relayStatusHumidity
            - *relayStatusSetpoint
            - *relayStatusUnreadEntries
  - id: "0x0202"
    name: Fan Control
    description: |
      provides attributes and commands for configuring fans
      in heating/cooling systems
    server:
      attr:
        - *fanMode
        - *fanModeSequence
  - id: "0x0203"
    name: Dehumidification Control
    description: |
      provides attributes and commands for configuring
      dehumidification appliances
    server:
      attr:
        - *relativeHumidity
        - *dehumidificationCooling
        - *rhDehumidificationSetpoint
        - *relativeHumidityMode
        - *dehumidificationLockout
        - *dehumidificationHysteresis
        - *dehumidificationMaxCool
        - *relativeHumidityDisplay
  - id: "0x0204"
    name: Thermostat UI configuration
    description: |
      provides attributes and commands for configuring
      the UI of a (remote) thermostat
    server:
      attr:
        - *temperatureDisplayMode
        - *keypadLockout
        - *scheduleProgrammingVisibility
